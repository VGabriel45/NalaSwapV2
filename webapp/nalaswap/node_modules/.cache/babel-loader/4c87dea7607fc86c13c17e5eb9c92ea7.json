{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getHardhatVersion = exports.getPackageJson = exports.findClosestPackageJson = exports.getPackageRoot = exports.getPackageJsonPath = void 0;\n\nconst find_up_1 = __importDefault(require(\"find-up\"));\n\nconst fs_extra_1 = __importDefault(require(\"fs-extra\"));\n\nconst path_1 = __importDefault(require(\"path\"));\n\nfunction getPackageJsonPath() {\n  return findClosestPackageJson(__filename);\n}\n\nexports.getPackageJsonPath = getPackageJsonPath;\n\nfunction getPackageRoot() {\n  const packageJsonPath = getPackageJsonPath();\n  return path_1.default.dirname(packageJsonPath);\n}\n\nexports.getPackageRoot = getPackageRoot;\n\nfunction findClosestPackageJson(file) {\n  return find_up_1.default.sync(\"package.json\", {\n    cwd: path_1.default.dirname(file)\n  });\n}\n\nexports.findClosestPackageJson = findClosestPackageJson;\n\nasync function getPackageJson() {\n  const root = getPackageRoot();\n  return fs_extra_1.default.readJSON(path_1.default.join(root, \"package.json\"));\n}\n\nexports.getPackageJson = getPackageJson;\n\nfunction getHardhatVersion() {\n  const packageJsonPath = findClosestPackageJson(__filename);\n\n  if (packageJsonPath === null) {\n    return null;\n  }\n\n  try {\n    const packageJson = fs_extra_1.default.readJsonSync(packageJsonPath);\n    return packageJson.version;\n  } catch (_a) {\n    return null;\n  }\n}\n\nexports.getHardhatVersion = getHardhatVersion;","map":{"version":3,"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,SAAgBA,kBAAhB,GAAkC;EAChC,OAAOC,sBAAsB,CAACC,UAAD,CAA7B;AACD;;AAFDC;;AAIA,SAAgBC,cAAhB,GAA8B;EAC5B,MAAMC,eAAe,GAAGL,kBAAkB,EAA1C;EAEA,OAAOM,eAAKC,OAAL,CAAaF,eAAb,CAAP;AACD;;AAJDF;;AAcA,SAAgBF,sBAAhB,CAAuCO,IAAvC,EAAmD;EACjD,OAAOC,kBAAOC,IAAP,CAAY,cAAZ,EAA4B;IAAEC,GAAG,EAAEL,eAAKC,OAAL,CAAaC,IAAb;EAAP,CAA5B,CAAP;AACD;;AAFDL;;AAIO,eAAeS,cAAf,GAA6B;EAClC,MAAMC,IAAI,GAAGT,cAAc,EAA3B;EACA,OAAOU,mBAAQC,QAAR,CAAiBT,eAAKU,IAAL,CAAUH,IAAV,EAAgB,cAAhB,CAAjB,CAAP;AACD;;AAHDV;;AAKA,SAAgBc,iBAAhB,GAAiC;EAC/B,MAAMZ,eAAe,GAAGJ,sBAAsB,CAACC,UAAD,CAA9C;;EAEA,IAAIG,eAAe,KAAK,IAAxB,EAA8B;IAC5B,OAAO,IAAP;EACD;;EAED,IAAI;IACF,MAAMa,WAAW,GAAGJ,mBAAQK,YAAR,CAAqBd,eAArB,CAApB;IACA,OAAOa,WAAW,CAACE,OAAnB;EACD,CAHD,CAGE,WAAM;IACN,OAAO,IAAP;EACD;AACF;;AAbDjB","names":["getPackageJsonPath","findClosestPackageJson","__filename","exports","getPackageRoot","packageJsonPath","path_1","dirname","file","find_up_1","sync","cwd","getPackageJson","root","fs_extra_1","readJSON","join","getHardhatVersion","packageJson","readJsonSync","version"],"sourceRoot":"","sources":["../../src/internal/util/packageInfo.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}