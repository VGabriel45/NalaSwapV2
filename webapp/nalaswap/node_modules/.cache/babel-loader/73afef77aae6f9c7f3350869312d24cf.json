{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.weiToHumanReadableString = void 0;\n\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\n/**\n * This function turns a wei value in a human readable string. It shows values\n * in ETH, gwei or wei, depending on how large it is.\n *\n * It never show more than 99999 wei or gwei, moving to the larger denominator\n * when necessary.\n *\n * It never shows more than 4 decimal digits. Adapting denominator and\n * truncating as necessary.\n */\n\n\nfunction weiToHumanReadableString(wei) {\n  if (typeof wei === \"number\") {\n    wei = new ethereumjs_util_1.BN(wei);\n  }\n\n  if (wei.eqn(0)) {\n    return \"0 ETH\";\n  }\n\n  if (wei.lt(new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(5)))) {\n    return `${wei.toString()} wei`;\n  }\n\n  if (wei.lt(new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(14)))) {\n    return `${toDecimalString(wei, 9, 4)} gwei`;\n  }\n\n  return `${toDecimalString(wei, 18, 4)} ETH`;\n}\n\nexports.weiToHumanReadableString = weiToHumanReadableString;\n\nfunction toDecimalString(value, digitsToInteger) {\n  let decimalDigits = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4;\n  const oneUnit = new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(digitsToInteger));\n  const oneDecimal = new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(digitsToInteger - decimalDigits));\n  const integer = value.div(oneUnit);\n  const decimals = value.mod(oneUnit).div(oneDecimal);\n\n  if (decimals.eqn(0)) {\n    return integer.toString(10);\n  }\n\n  const decimalsString = removeRightZeros(decimals.toString(10).padStart(decimalDigits, \"0\"));\n  return `${integer.toString(10)}.${decimalsString}`;\n}\n\nfunction removeRightZeros(str) {\n  let zeros = 0;\n\n  for (let i = str.length - 1; i >= 0; i--) {\n    if (str.charAt(i) !== \"0\") {\n      break;\n    }\n\n    zeros += 1;\n  }\n\n  return str.substr(0, str.length - zeros);\n}","map":{"version":3,"mappings":";;;;;;;AAAA;AAEA;;;;;;;;;;;;AAUA,SAAgBA,wBAAhB,CAAyCC,GAAzC,EAAyD;EACvD,IAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;IAC3BA,GAAG,GAAG,IAAIC,oBAAJ,CAAOD,GAAP,CAAN;EACD;;EAED,IAAIA,GAAG,CAACE,GAAJ,CAAQ,CAAR,CAAJ,EAAgB;IACd,OAAO,OAAP;EACD;;EAED,IAAIF,GAAG,CAACG,EAAJ,CAAO,IAAIF,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAO,CAAP,CAAf,CAAP,CAAJ,EAAuC;IACrC,OAAO,GAAGD,GAAG,CAACK,QAAJ,EAAc,MAAxB;EACD;;EAED,IAAIL,GAAG,CAACG,EAAJ,CAAO,IAAIF,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAO,EAAP,CAAf,CAAP,CAAJ,EAAwC;IACtC,OAAO,GAAGK,eAAe,CAACN,GAAD,EAAM,CAAN,EAAS,CAAT,CAAW,OAApC;EACD;;EAED,OAAO,GAAGM,eAAe,CAACN,GAAD,EAAM,EAAN,EAAU,CAAV,CAAY,MAArC;AACD;;AAlBDO;;AAoBA,SAASD,eAAT,CACEE,KADF,EAEEC,eAFF,EAG2B;EAAA,IAAzBC,aAAyB,uEAAD,CAAC;EAEzB,MAAMC,OAAO,GAAG,IAAIV,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAOQ,eAAP,CAAf,CAAhB;EACA,MAAMG,UAAU,GAAG,IAAIX,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAOQ,eAAe,GAAGC,aAAzB,CAAf,CAAnB;EAEA,MAAMG,OAAO,GAAGL,KAAK,CAACM,GAAN,CAAUH,OAAV,CAAhB;EAEA,MAAMI,QAAQ,GAAGP,KAAK,CAACQ,GAAN,CAAUL,OAAV,EAAmBG,GAAnB,CAAuBF,UAAvB,CAAjB;;EACA,IAAIG,QAAQ,CAACb,GAAT,CAAa,CAAb,CAAJ,EAAqB;IACnB,OAAOW,OAAO,CAACR,QAAR,CAAiB,EAAjB,CAAP;EACD;;EAED,MAAMY,cAAc,GAAGC,gBAAgB,CACrCH,QAAQ,CAACV,QAAT,CAAkB,EAAlB,EAAsBc,QAAtB,CAA+BT,aAA/B,EAA8C,GAA9C,CADqC,CAAvC;EAIA,OAAO,GAAGG,OAAO,CAACR,QAAR,CAAiB,EAAjB,CAAoB,IAAIY,cAAc,EAAhD;AACD;;AAED,SAASC,gBAAT,CAA0BE,GAA1B,EAAqC;EACnC,IAAIC,KAAK,GAAG,CAAZ;;EAEA,KAAK,IAAIC,CAAC,GAAGF,GAAG,CAACG,MAAJ,GAAa,CAA1B,EAA6BD,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;IACxC,IAAIF,GAAG,CAACI,MAAJ,CAAWF,CAAX,MAAkB,GAAtB,EAA2B;MACzB;IACD;;IAEDD,KAAK,IAAI,CAAT;EACD;;EAED,OAAOD,GAAG,CAACK,MAAJ,CAAW,CAAX,EAAcL,GAAG,CAACG,MAAJ,GAAaF,KAA3B,CAAP;AACD","names":["weiToHumanReadableString","wei","ethereumjs_util_1","eqn","lt","pow","toString","toDecimalString","exports","value","digitsToInteger","decimalDigits","oneUnit","oneDecimal","integer","div","decimals","mod","decimalsString","removeRightZeros","padStart","str","zeros","i","length","charAt","substr"],"sourceRoot":"","sources":["../../src/internal/util/wei-values.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}